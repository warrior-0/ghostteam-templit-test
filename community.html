<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>커뮤니티 | 괴담지옥</title>
  <link rel="stylesheet" href="style.css" />
  <!-- 스크립트 태그는 아래 body 맨 아래로 이동했습니다 -->
</head>
<body>
  <header>
    <div class="header-inner">
      <div style="display: flex; align-items: center;">
        <div id="menuContainer"></div>
        <a href="index.html" class="logo">괴담지옥</a>
        <nav>
          <ul class="gnb">
            <li><a href="index.html">홈</a></li>
            <li id="urbanMenu">
              <div class="dropdown" tabindex="0">
                <a href="urban.html">괴담</a>
                <span class="dropdown-arrow">▼</span>
              </div>
              <div class="submenu">
                <a href="urban.html?filter=all">전체 괴담 모음</a>
                <a href="urban.html?filter=korea">한국 괴담</a>
                <a href="urban.html?filter=foreign">해외 괴담</a>
                <a href="urban.html?filter=true">실화 이야기</a>
                <a href="urban.html?filter=user">사용자 제보 괴담</a>
              </div>
            </li>
            <li id="communityMenu">
              <div class="dropdown" tabindex="0">
                <a href="community.html">커뮤니티</a>
                <span class="dropdown-arrow">▼</span>
              </div>
              <div class="submenu">
                <a href="community.html?board=free">자유게시판</a>
                <a href="community.html?board=notice">이벤트/공지</a>
                <a href="community.html?board=archive">자료실</a>
              </div>
            </li>
            <li id="aboutMenu">
              <div class="dropdown" tabindex="0">
                <a href="about.html">정보</a>
                <span class="dropdown-arrow">▼</span>
              </div>
              <div class="submenu">
                <a href="about.html?page=intro">사이트 소개</a>
                <a href="about.html?page=greeting">운영자 인사말</a>
                <a href="about.html?page=contact">문의/제보하기</a>
              </div>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <!-- 1) 글쓰기 버튼 영역 -->
    <section class="board-selector" style="text-align:center; margin:2rem 0;">
      <button id="showWriteForm">글쓰기</button>
    </section>

    <!-- 2) 글쓰기 폼 -->
    <form id="writeForm" style="display:none; margin:2rem auto; max-width:600px;">
      <select id="writeBoard" required>
        <option value="free">자유게시판</option>
        <option value="notice">이벤트/공지</option>
      </select>
      <input type="text" id="writeTitle" placeholder="제목을 입력하세요" required />
      <input type="text" id="writeBody" placeholder="줄거리 (요약)" required />
      <textarea id="postDetailInput" placeholder="본문 내용을 입력하세요" required></textarea>
      <button type="submit">글 작성</button>
    </form>

    <!-- 3) 게시판 타이틀·정렬 버튼 영역 -->
    <section style="max-width: 900px; margin: 2.5rem auto 0 auto; padding: 0 2rem;">
      <div class="community-header">
        <div class="community-title" id="boardTitle">자유게시판</div>
        <div class="community-sort">
          <button class="sort-btn active" data-sort="latest">최신순</button>
          <button class="sort-btn" data-sort="popular">인기순</button>
        </div>
      </div>

      <!-- 4) 글 목록 출력 영역 -->
      <div class="community-list" id="communityList"></div>

      <!-- 5) 상세보기(댓글·좋아요 포함) 출력 영역 -->
      <div id="postDetail" style="margin-top: 2rem;"></div>
    </section>
  </main>

  <footer>
    &copy; 2025 괴담지옥. All rights reserved.
  </footer>

  <!-- ─── SCRIPT: 항상 body 맨 아래에 두기 ──────────────────────────────────── -->
  <script type="module" src="main.js"></script>
  <script type="module" src="community.js"></script>
</body>
</html>
